{"version":3,"sources":["assets/UISuperLayout.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import UISpuerScrollView from './UISuperScrollView';\nimport UISpuerItem from './UISuperItem';\nconst { ccclass, property } = cc._decorator;\nexport enum UISuperAxis {\n    HORIZONTAL = 0,\n    VERTICAL = 1\n}\n@ccclass\nexport default class UISuperLayout extends cc.Component {\n    @property({\n        type: cc.Enum(UISuperAxis),\n        displayName: \"排列方向\"\n    }) startAxis: UISuperAxis = UISuperAxis.VERTICAL\n    @property({\n        displayName: \"上边距\"\n    }) paddingTop: number = 0\n    @property({\n        displayName: \"下边距\"\n    }) paddingBottom: number = 0\n    @property({\n        displayName: \"左边距\"\n    }) paddingLeft: number = 0\n    @property({\n        displayName: \"右边距\"\n    }) paddingRight: number = 0\n    @property({\n        displayName: \"间隔\"\n    }) spacing: cc.Vec2 = cc.Vec2.ZERO\n    @property({\n        displayName: \"可复用的Item数\"\n    }) maxPrefabTotal: number = 20\n    @property({\n        type: cc.Prefab,\n        displayName: \"item Prefab\"\n    }) prefab: cc.Prefab = null\n\n    @property affectedByScale: boolean = true\n    @property({\n        displayName: \"使用item子节点包围盒\"\n    }) childBoundingBox: boolean = false\n    @property(cc.Component.EventHandler) refreshItemEvents: cc.Component.EventHandler[] = []\n    public maxItemTotal: number = 0\n    private _viewSize: cc.Size\n    public get viewSize(): cc.Size {\n        if (!this._viewSize) {\n            this._viewSize = this.scrollView.view.getContentSize()\n        }\n        return this._viewSize\n    }\n    private _scrollView: UISpuerScrollView = null\n    public get scrollView(): UISpuerScrollView {\n        if (!this._scrollView) {\n            this._scrollView = this.node.parent.parent.getComponent(UISpuerScrollView)\n        }\n        return this._scrollView\n    }\n\n    public get header(): cc.Node {\n        return this.node.children[0]\n    }\n\n    public get footer(): cc.Node {\n        return this.node.children[this.node.childrenCount - 1]\n    }\n    public get headerBoundaryX() {\n        return this.node.x + this.header.x - this.header.anchorX * this.header.width\n    }\n    public get headerBoundaryY() {\n        return this.node.y + this.header.y + (1 - this.header.anchorY) * this.header.height\n    }\n    public get footerBoundaryX() {\n        return this.node.x + this.footer.x + (1 - this.footer.anchorX) * this.footer.width\n    }\n    public get footerBoundaryY() {\n        return this.node.y + this.footer.y - this.footer.anchorY * this.footer.height\n    }\n    // 重写\n    public getContentSize() {\n        let size = this.getReallySize()\n        let viewSize = this.scrollView.view.getContentSize()\n        if (size.height < viewSize.height) {\n            size.height = viewSize.height\n        }\n        if (size.width < viewSize.width) {\n            size.width = viewSize.width\n        }\n        return size\n    }\n    public getReallySize() {\n        if (this.node.childrenCount == 0) {\n            return this.viewSize\n        }\n        let size = cc.Size.ZERO\n        size.width = this.footerBoundaryX + -this.headerBoundaryX + this.paddingLeft + this.paddingRight\n        size.height = this.headerBoundaryY + -this.footerBoundaryY + this.paddingTop + this.paddingBottom\n        return size\n    }\n    onLoad() {\n        this.node.getContentSize = this.getContentSize.bind(this)\n    }\n    public getUsedScaleValue(value: number) {\n        return this.affectedByScale ? Math.abs(value) : 1;\n    }\n    /** 设置最大item数量 */\n    public total(value: number): this {\n        this.scrollView.stopAutoScroll()\n        this.scrollView.release()\n        this.maxItemTotal = value\n        this.moreRemLessAdd()\n        let offset = 0\n        if (this.footer && this.footer['index'] + 1 >= this.maxItemTotal) {\n            offset = this.footer['index'] + 1 - this.maxItemTotal\n        }\n        for (let i = 0; i < this.node.children.length; i++) {\n            const child = this.node.children[i];\n            let index = child['index'] - offset\n            child['index'] = index\n            this.refreshItem(child, child['index'])\n        }\n        this.scrollView.calculateBoundary()\n        return this\n    }\n\n    /** 滚动到头部 */\n    public scrollToHeader(timeInSecond?: number, attenuated?: boolean) {\n        if (this.startAxis == UISuperAxis.VERTICAL) {\n            this.scrollToTop(timeInSecond, attenuated)\n        } else {\n            this.scrollToLeft(timeInSecond, attenuated)\n        }\n    }\n    /** 滚动到尾部 */\n    public scrollToFooter(timeInSecond?: number, attenuated?: boolean) {\n        if (this.startAxis == UISuperAxis.VERTICAL) {\n            this.scrollToBottom(timeInSecond, attenuated)\n        } else {\n            this.scrollToRight(timeInSecond, attenuated)\n        }\n    }\n    public resetScrollView() {\n        this.scrollView.reset()\n    }\n    public isOutOfBoundaryHeader(node: cc.Node) {\n        let width = node.width * this.getUsedScaleValue(node.scaleX) * 2\n        let height = -node.height * this.getUsedScaleValue(node.scaleY) * 2\n        let offset = this.scrollView.getHowMuchOutOfBoundary(cc.v2(width, height))\n        return offset\n    }\n    public isOutOfBoundaryFooter(node: cc.Node) {\n        let width = -node.width * this.getUsedScaleValue(node.scaleX) * 2\n        let height = node.height * this.getUsedScaleValue(node.scaleY) * 2\n        let offset = this.scrollView.getHowMuchOutOfBoundary(cc.v2(width, height))\n        return offset\n    }\n\n    private scrollToTop(timeInSecond?: number, attenuated?: boolean) {\n        if (this.startAxis != UISuperAxis.VERTICAL) return\n        this.refreshHeader()\n        this.scrollView.deltaMove = cc.v2(0, -1)\n        this.scrollView.scrollToTop(timeInSecond, attenuated)\n    }\n    private scrollToBottom(timeInSecond?: number, attenuated?: boolean) {\n        if (this.startAxis != UISuperAxis.VERTICAL) return\n        this.refreshFooter()\n        this.scrollView.deltaMove = cc.v2(0, 1)\n        this.scrollView.scrollToBottom(timeInSecond, attenuated)\n    }\n    private scrollToLeft(timeInSecond?: number, attenuated?: boolean) {\n        if (this.startAxis != UISuperAxis.HORIZONTAL) return\n        this.refreshHeader()\n        this.scrollView.deltaMove = cc.v2(1, 0)\n        this.scrollView.scrollToLeft(timeInSecond, attenuated)\n    }\n    private scrollToRight(timeInSecond?: number, attenuated?: boolean) {\n        if (this.startAxis != UISuperAxis.HORIZONTAL) return\n        this.refreshFooter()\n        this.scrollView.deltaMove = cc.v2(-1, 0)\n        this.scrollView.scrollToRight(timeInSecond, attenuated)\n    }\n    private refreshHeader() {\n        this.scrollView.stopAutoScroll()\n        for (let i = 0; i < this.node.children.length; i++) {\n            const child = this.node.children[i];\n            child['index'] = i\n            this.refreshItem(child, i)\n        }\n    }\n    private refreshFooter() {\n        this.scrollView.stopAutoScroll()\n        let index = this.maxItemTotal\n        for (let i = this.node.childrenCount - 1; i >= 0; i--) {\n            var child = this.node.children[i]\n            child['index'] = --index\n            this.refreshItem(child, index)\n        }\n    }\n    private moreRemLessAdd() {\n        // 不够的情况下\n        let index = this.node.childrenCount\n        for (let i = index; i < this.maxItemTotal; i++) {\n            if (i >= this.maxPrefabTotal) break\n            if (!this.node.children[i]) {\n                let child = cc.instantiate(this.prefab)\n                child['index'] = i\n                let script = child.getComponent(UISpuerItem) || child.addComponent(UISpuerItem)\n                script.init(this, this.refreshItem.bind(this))\n                this.node.addChild(child)\n                if (i == 0) this.setHeaderStartPos()\n            }\n        }\n        // 多余的情况下\n        if (this.node.childrenCount > this.maxItemTotal) {\n            var total = this.node.childrenCount - this.maxItemTotal\n            for (let i = 0; i < total; i++) {\n                var child = this.footer\n                child.destroy()\n                this.node.removeChild(child)\n            }\n        }\n    }\n    private refreshItem(target: cc.Node, index: number) {\n        cc.Component.EventHandler.emitEvents(this.refreshItemEvents, target, index)\n    }\n    public setHeaderStartPos() {\n        if (!this.header) return\n        let pos = cc.Vec2.ZERO\n        pos.y = (1 - this.header.anchorY) * -this.header.height - this.paddingTop + (1 - this.node.anchorY) * this.viewSize.height\n        pos.x = this.header.anchorX * this.header.width + this.paddingLeft - this.node.anchorX * this.viewSize.width\n        this.header.setPosition(pos)\n    }\n}\n"]}