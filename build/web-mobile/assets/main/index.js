window.__require=function t(e,o,i){function r(s,a){if(!o[s]){if(!e[s]){var h=s.split("/");if(h=h[h.length-1],!e[h]){var l="function"==typeof __require&&__require;if(!a&&l)return l(h,!0);if(n)return n(h,!0);throw new Error("Cannot find module '"+s+"'")}s=h}var c=o[s]={exports:{}};e[s][0].call(c.exports,function(t){return r(e[s][1][t]||t)},c,c.exports,t,e,o,i)}return o[s].exports}for(var n="function"==typeof __require&&__require,s=0;s<i.length;s++)r(i[s]);return r}({UISuperItem:[function(t,e,o){"use strict";cc._RF.push(e,"05ad9vH0ANAc6m/Oc1rzygv","UISuperItem");var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(n<3?r(s):n>3?r(e,o,s):r(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./UISuperLayout"),a=cc._decorator,h=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.POSITION_CHANGED,this.resetScrollView,this),this.node.on(cc.Node.EventType.SCALE_CHANGED,this.resetScrollView,this),this.node.on(cc.Node.EventType.SIZE_CHANGED,this.resetScrollView,this)},e.prototype.resetScrollView=function(){this.isFooter&&this.layout.resetScrollView()},e.prototype.init=function(t,e){this.layout=t,this.refreshItemCallback=e},Object.defineProperty(e.prototype,"width",{get:function(){return this.node.width*this.layout.getUsedScaleValue(this.node.scaleX)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.node.height*this.layout.getUsedScaleValue(this.node.scaleY)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isHeader",{get:function(){return 0==this.node.getSiblingIndex()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFooter",{get:function(){return this.node.getSiblingIndex()==this.layout.node.childrenCount-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUpdateHeader",{get:function(){return!!(this.layout.startAxis==s.UISuperAxis.VERTICAL&&this.layout.scrollView.deltaMove.y>0&&this.isHeader)||!!(this.layout.startAxis==s.UISuperAxis.HORIZONTAL&&this.layout.scrollView.deltaMove.x<0&&this.isHeader)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUpdateFooter",{get:function(){return!!(this.layout.startAxis==s.UISuperAxis.VERTICAL&&this.layout.scrollView.deltaMove.y<0&&this.isFooter)||!!(this.layout.startAxis==s.UISuperAxis.HORIZONTAL&&this.layout.scrollView.deltaMove.x>0&&this.isFooter)},enumerable:!1,configurable:!0}),e.prototype.isOutOfBoundary=function(t){return this.layout.startAxis==s.UISuperAxis.VERTICAL&&0==t.y||this.layout.startAxis==s.UISuperAxis.HORIZONTAL&&0==t.x},e.prototype.relativePositionFooter=function(t){if(t)if(this.layout.startAxis==s.UISuperAxis.VERTICAL){var e=t.height*this.layout.getUsedScaleValue(t.scaleY),o=t.y-e*t.anchorY-this.height*(1-this.node.anchorY)-this.layout.spacing.y;this.node.y=o}else if(this.layout.startAxis==s.UISuperAxis.HORIZONTAL){var i=t.width*this.layout.getUsedScaleValue(t.scaleX);o=t.x+i*(1-t.anchorX)+this.width*this.node.anchorX+this.layout.spacing.x,this.node.x=o}},e.prototype.relativePositionHeader=function(t){if(t)if(this.layout.startAxis==s.UISuperAxis.VERTICAL){var e=t.height*this.layout.getUsedScaleValue(t.scaleY),o=t.y+e*(1-t.anchorY)+this.height*this.node.anchorY+this.layout.spacing.y;this.node.y=o}else if(this.layout.startAxis==s.UISuperAxis.HORIZONTAL){var i=t.width*this.layout.getUsedScaleValue(t.scaleX);o=t.x-i*t.anchorX-this.width*(1-this.node.anchorX)-this.layout.spacing.x,this.node.x=o}},e.prototype.watchBrother=function(){var t=this.node.getSiblingIndex()-1,e=this.node.parent.children[t];this.relativePositionFooter(e)},e.prototype.watchSelf=function(){if(this.isUpdateHeader){var t=this.layout.footer;if((o=t.index+1)==this.layout.maxItemTotal)return;var e=this.layout.isOutOfBoundaryHeader(this.node);this.isOutOfBoundary(e)&&(this.node.index=o,this.refreshItemCallback(this.node,o),this.relativePositionFooter(t),this.node.setSiblingIndex(this.layout.node.childrenCount-1))}if(this.isUpdateFooter){var o,i=this.layout.header;if(-1==(o=i.index-1))return;e=this.layout.isOutOfBoundaryFooter(this.node),this.isOutOfBoundary(e)&&(this.node.index=o,this.node.setSiblingIndex(0),this.refreshItemCallback(this.node,o),this.relativePositionHeader(i))}},e.prototype.update=function(){this.watchBrother(),this.watchSelf()},n([h],e)}(cc.Component));o.default=l,cc._RF.pop()},{"./UISuperLayout":"UISuperLayout"}],UISuperLayout:[function(t,e,o){"use strict";cc._RF.push(e,"699eb1xVINCcZBBHwAgwDBT","UISuperLayout");var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(n<3?r(s):n>3?r(e,o,s):r(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.UISuperAxis=void 0;var s,a=t("./UISuperScrollView"),h=t("./UISuperItem"),l=cc._decorator,c=l.ccclass,u=l.property;(function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL"})(s=o.UISuperAxis||(o.UISuperAxis={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startAxis=s.VERTICAL,e.paddingTop=0,e.paddingBottom=0,e.paddingLeft=0,e.paddingRight=0,e.spacing=cc.Vec2.ZERO,e.maxPrefabTotal=20,e.prefab=null,e.affectedByScale=!0,e.childBoundingBox=!1,e.refreshItemEvents=[],e.maxItemTotal=0,e._scrollView=null,e}return r(e,t),Object.defineProperty(e.prototype,"viewSize",{get:function(){return this._viewSize||(this._viewSize=this.scrollView.view.getContentSize()),this._viewSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollView",{get:function(){return this._scrollView||(this._scrollView=this.node.parent.parent.getComponent(a.default)),this._scrollView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"header",{get:function(){return this.node.children[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"footer",{get:function(){return this.node.children[this.node.childrenCount-1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerBoundaryX",{get:function(){return this.node.x+this.header.x-this.header.anchorX*this.header.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerBoundaryY",{get:function(){return this.node.y+this.header.y+(1-this.header.anchorY)*this.header.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"footerBoundaryX",{get:function(){return this.node.x+this.footer.x+(1-this.footer.anchorX)*this.footer.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"footerBoundaryY",{get:function(){return this.node.y+this.footer.y-this.footer.anchorY*this.footer.height},enumerable:!1,configurable:!0}),e.prototype.getContentSize=function(){var t=this.getReallySize(),e=this.scrollView.view.getContentSize();return t.height<e.height&&(t.height=e.height),t.width<e.width&&(t.width=e.width),t},e.prototype.getReallySize=function(){if(0==this.node.childrenCount)return this.viewSize;var t=cc.Size.ZERO;return t.width=this.footerBoundaryX+-this.headerBoundaryX+this.paddingLeft+this.paddingRight,t.height=this.headerBoundaryY+-this.footerBoundaryY+this.paddingTop+this.paddingBottom,t},e.prototype.onLoad=function(){this.node.getContentSize=this.getContentSize.bind(this)},e.prototype.getUsedScaleValue=function(t){return this.affectedByScale?Math.abs(t):1},e.prototype.total=function(t){this.scrollView.stopAutoScroll(),this.scrollView.release(),this.maxItemTotal=t,this.moreRemLessAdd();var e=0;this.footer&&this.footer.index+1>=this.maxItemTotal&&(e=this.footer.index+1-this.maxItemTotal);for(var o=0;o<this.node.children.length;o++){var i=this.node.children[o],r=i.index-e;i.index=r,this.refreshItem(i,i.index)}return this.scrollView.calculateBoundary(),this},e.prototype.scrollToHeader=function(t,e){this.startAxis==s.VERTICAL?this.scrollToTop(t,e):this.scrollToLeft(t,e)},e.prototype.scrollToFooter=function(t,e){this.startAxis==s.VERTICAL?this.scrollToBottom(t,e):this.scrollToRight(t,e)},e.prototype.resetScrollView=function(){this.scrollView.reset()},e.prototype.isOutOfBoundaryHeader=function(t){var e=t.width*this.getUsedScaleValue(t.scaleX)*2,o=-t.height*this.getUsedScaleValue(t.scaleY)*2;return this.scrollView.getHowMuchOutOfBoundary(cc.v2(e,o))},e.prototype.isOutOfBoundaryFooter=function(t){var e=-t.width*this.getUsedScaleValue(t.scaleX)*2,o=t.height*this.getUsedScaleValue(t.scaleY)*2;return this.scrollView.getHowMuchOutOfBoundary(cc.v2(e,o))},e.prototype.scrollToTop=function(t,e){this.startAxis==s.VERTICAL&&(this.refreshHeader(),this.scrollView.deltaMove=cc.v2(0,-1),this.scrollView.scrollToTop(t,e))},e.prototype.scrollToBottom=function(t,e){this.startAxis==s.VERTICAL&&(this.refreshFooter(),this.scrollView.deltaMove=cc.v2(0,1),this.scrollView.scrollToBottom(t,e))},e.prototype.scrollToLeft=function(t,e){this.startAxis==s.HORIZONTAL&&(this.refreshHeader(),this.scrollView.deltaMove=cc.v2(1,0),this.scrollView.scrollToLeft(t,e))},e.prototype.scrollToRight=function(t,e){this.startAxis==s.HORIZONTAL&&(this.refreshFooter(),this.scrollView.deltaMove=cc.v2(-1,0),this.scrollView.scrollToRight(t,e))},e.prototype.refreshHeader=function(){this.scrollView.stopAutoScroll();for(var t=0;t<this.node.children.length;t++){var e=this.node.children[t];e.index=t,this.refreshItem(e,t)}},e.prototype.refreshFooter=function(){this.scrollView.stopAutoScroll();for(var t=this.maxItemTotal,e=this.node.childrenCount-1;e>=0;e--){var o=this.node.children[e];o.index=--t,this.refreshItem(o,t)}},e.prototype.moreRemLessAdd=function(){for(var t=this.node.childrenCount;t<this.maxItemTotal&&!(t>=this.maxPrefabTotal);t++)if(!this.node.children[t]){var e=cc.instantiate(this.prefab);e.index=t,(e.getComponent(h.default)||e.addComponent(h.default)).init(this,this.refreshItem.bind(this)),this.node.addChild(e),0==t&&this.setHeaderStartPos()}if(this.node.childrenCount>this.maxItemTotal){var o=this.node.childrenCount-this.maxItemTotal;for(t=0;t<o;t++){var i=this.footer;i.destroy(),this.node.removeChild(i)}}},e.prototype.refreshItem=function(t,e){cc.Component.EventHandler.emitEvents(this.refreshItemEvents,t,e)},e.prototype.setHeaderStartPos=function(){if(this.header){var t=cc.Vec2.ZERO;t.y=(1-this.header.anchorY)*-this.header.height-this.paddingTop+(1-this.node.anchorY)*this.viewSize.height,t.x=this.header.anchorX*this.header.width+this.paddingLeft-this.node.anchorX*this.viewSize.width,this.header.setPosition(t)}},n([u({type:cc.Enum(s),displayName:"\u6392\u5217\u65b9\u5411"})],e.prototype,"startAxis",void 0),n([u({displayName:"\u4e0a\u8fb9\u8ddd"})],e.prototype,"paddingTop",void 0),n([u({displayName:"\u4e0b\u8fb9\u8ddd"})],e.prototype,"paddingBottom",void 0),n([u({displayName:"\u5de6\u8fb9\u8ddd"})],e.prototype,"paddingLeft",void 0),n([u({displayName:"\u53f3\u8fb9\u8ddd"})],e.prototype,"paddingRight",void 0),n([u({displayName:"\u95f4\u9694"})],e.prototype,"spacing",void 0),n([u({displayName:"\u53ef\u590d\u7528\u7684Item\u6570"})],e.prototype,"maxPrefabTotal",void 0),n([u({type:cc.Prefab,displayName:"item Prefab"})],e.prototype,"prefab",void 0),n([u],e.prototype,"affectedByScale",void 0),n([u({displayName:"\u4f7f\u7528item\u5b50\u8282\u70b9\u5305\u56f4\u76d2"})],e.prototype,"childBoundingBox",void 0),n([u(cc.Component.EventHandler)],e.prototype,"refreshItemEvents",void 0),n([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./UISuperItem":"UISuperItem","./UISuperScrollView":"UISuperScrollView"}],UISuperScrollView:[function(t,e,o){"use strict";cc._RF.push(e,"cf9af4O7wZKvocAG07bRvtr","UISuperScrollView");var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(n<3?r(s):n>3?r(e,o,s):r(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./UISuperLayout"),a=cc._decorator,h=a.ccclass,l=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.headerOutOffset=200,e.headerHeight=100,e.footerOutOffset=200,e.footerHeight=100,e.pullDownEvents=[],e.pullUpEvents=[],e.deltaMove=cc.Vec2.ZERO,e.isMoveHeader=!1,e.isMoveFooter=!1,e.isLockHeader=!1,e.isLockFooter=!1,e.isAutoBack=!1,e.isEmitProgress=!1,e.contentOriginPos=null,e.releaseing=!1,e._layout=null,e}return r(e,t),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoScrolling",{get:function(){return this._autoScrolling},set:function(t){this._autoScrolling=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"layout",{get:function(){return null==this._layout&&(this._layout=this.content.getComponent(s.default)),this._layout},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isHeader",{get:function(){var t,e;return null===(t=this.layout)||void 0===t||!t.header||0==(null===(e=this.layout)||void 0===e?void 0:e.header.index)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFooter",{get:function(){var t;return null===(t=this.layout)||void 0===t||!t.footer||this.layout.footer.index==this.layout.maxItemTotal-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCalculPull",{get:function(){return this.pullDownEvents.length>0||this.pullUpEvents.length>0},enumerable:!1,configurable:!0}),e.prototype.calculateBoundary=function(){this._calculateBoundary()},e.prototype.getHowMuchOutOfBoundary=function(t){return this._getHowMuchOutOfBoundary(t)},e.prototype.release=function(){(this.isLockHeader||this.isLockFooter)&&(this.isMoveHeader=!1,this.isMoveFooter=!1,this.isLockHeader=!1,this.isLockFooter=!1,this.isEmitProgress=!0,this.releaseing=!0,this._outOfBoundaryAmountDirty=!0,this._processInertiaScroll())},e.prototype.stopAutoScroll=function(){t.prototype.stopAutoScroll.call(this),this.clearProgress(),this.isEmitProgress=!1},e.prototype._adjustContentOutOfBoundary=function(){if(this._outOfBoundaryAmountDirty=!0,this._isOutOfBoundary()){var t=this.getHowMuchOutOfBoundary(cc.v2(0,0)),e=this.getContentPosition().add(t);this.contentOriginPos||(this.contentOriginPos=e),this.content&&(this.content.setPosition(e),this._updateScrollBar(0)),this.contentOriginPos.fuzzyEquals(e,1e-4)&&this.layout.setHeaderStartPos()}},e.prototype.reset=function(){this._outOfBoundaryAmountDirty=!0,this.getHowMuchOutOfBoundary().fuzzyEquals(cc.v2(0,0),1e-4)||(this.releaseing||(this.clearProgress(),this.isEmitProgress=!1),this._processInertiaScroll())},e.prototype._onTouchMoved=function(e,o){t.prototype._onTouchMoved.call(this,e,o);var i=cc.v2(e.getLocation().x-e.getPreviousLocation().x,e.getLocation().y-e.getPreviousLocation().y);if((this.vertical&&0!=i.y||this.horizontal&&0!=i.x)&&(this.deltaMove=i),this.isAutoBack=!1,this.isCalculPull){this.isEmitProgress=!0;var r=this.getHowMuchOutOfBoundary(),n=this.vertical?r.y:-r.x;n>0&&this.isHeader?this.isMoveHeader=n>=this.headerOutOffset:n<0&&this.isFooter&&(this.isMoveFooter=n<=-this.footerOutOffset)}},e.prototype._dispatchEvent=function(e){t.prototype._dispatchEvent.call(this,e),"scroll-ended"==e&&(this.deltaMove=cc.Vec2.ZERO,this.isMoveHeader=!1,this.isMoveFooter=!1,this.isAutoBack=!1,this.isEmitProgress=!1,this.releaseing=!1)},e.prototype._getContentTopBoundary=function(){var t,e=this.view.getContentSize(),o=0;return o=(null===(t=this.layout)||void 0===t?void 0:t.header)&&this.layout.getReallySize().height>e.height?this.layout.headerBoundaryY+this.layout.paddingTop:this._getContentBottomBoundary()+e.height,this.isHeader&&this.isLockHeader&&(o+=this.headerHeight),o},e.prototype._getContentBottomBoundary=function(){var t,e=this.view.getContentSize(),o=0;return o=(null===(t=this.layout)||void 0===t?void 0:t.footer)&&this.layout.getReallySize().height>e.height?this.layout.footerBoundaryY-this.layout.paddingBottom:this.layout.node.y-this.layout.node.getAnchorPoint().y*e.height,this.isFooter&&this.isLockFooter&&(o-=this.footerHeight),o},e.prototype._getContentLeftBoundary=function(){var t,e=this.view.getContentSize(),o=0;return o=(null===(t=this.layout)||void 0===t?void 0:t.header)&&this.layout.getReallySize().width>e.width?this.layout.headerBoundaryX-this.layout.paddingLeft:this.layout.node.x-this.layout.node.getAnchorPoint().x*e.width,this.isHeader&&this.isLockHeader&&(o-=this.headerHeight),o},e.prototype._getContentRightBoundary=function(){var t,e=this.view.getContentSize(),o=0;return o=(null===(t=this.layout)||void 0===t?void 0:t.footer)&&this.layout.getReallySize().width>e.width?this.layout.footerBoundaryX+this.layout.paddingRight:this._getContentLeftBoundary()+e.width,this.isFooter&&this.isLockFooter&&(o+=this.footerHeight),o},e.prototype._startAutoScroll=function(e,o,i){this.isCalculPull&&(this.isMoveHeader&&!this.isLockHeader&&(this.isLockHeader=!0,this.vertical&&(e.y-=this.headerHeight),this.horizontal&&(e.x+=this.headerHeight),this.emitPullDownEvent({refresh:!0,progress:1})),this.isMoveFooter&&!this.isLockFooter&&(this.isLockFooter=!0,this.vertical&&(e.y+=this.footerHeight),this.horizontal&&(e.x-=this.footerHeight),this.emitPullUpEvent({refresh:!0,progress:1}))),t.prototype._startAutoScroll.call(this,e,o,i)},e.prototype._isNecessaryAutoScrollBrake=function(){var e=t.prototype._isNecessaryAutoScrollBrake.call(this);return e&&(this.isAutoBack=!0),e},e.prototype._updateScrollBar=function(e){if(t.prototype._updateScrollBar.call(this,e),this.isCalculPull&&(this._autoScrollBraking&&(this.clearProgress(),this.isAutoBack=!0),!this.isAutoBack)){var o=this.vertical?e.y:-e.x;if(o>0&&this.isHeader&&!this.isLockHeader){var i=o<1e-4?0:o/this.headerOutOffset;this.emitPullDownEvent({refresh:!1,progress:i}),this.emitPullUpEvent({refresh:!1,progress:0})}else o<0&&this.isFooter&&!this.isLockFooter?(i=-o<1e-4?0:-o/this.footerOutOffset,this.emitPullUpEvent({refresh:!1,progress:i}),this.emitPullDownEvent({refresh:!1,progress:0})):this.clearProgress()}},e.prototype.clearProgress=function(){this.emitPullDownEvent({refresh:!1,progress:0}),this.emitPullUpEvent({refresh:!1,progress:0})},e.prototype.emitPullDownEvent=function(t){this.isEmitProgress&&cc.Component.EventHandler.emitEvents(this.pullDownEvents,this,t)},e.prototype.emitPullUpEvent=function(t){this.isEmitProgress&&cc.Component.EventHandler.emitEvents(this.pullUpEvents,this,t)},n([l({displayName:"\u9876\u90e8\u504f\u79fb\u91cf",tooltip:"\u4e0b\u62c9\u65f6\u8d85\u8fc7\u6b64\u504f\u79fb\u4f1a\u53d1\u9001\u4e0b\u62c9\u4e8b\u4ef6"})],e.prototype,"headerOutOffset",void 0),n([l({displayName:"\u9876\u90e8\u9ad8\u5ea6",tooltip:"\u5f53\u4e0b\u62c9\u4e8b\u4ef6\u89e6\u53d1\u65f6 \u9876\u90e8\u8ffd\u52a0\u7684\u9ad8\u5ea6"})],e.prototype,"headerHeight",void 0),n([l({displayName:"\u5e95\u90e8\u504f\u79fb\u91cf",tooltip:"\u4e0a\u62c9\u65f6\u8d85\u8fc7\u6b64\u504f\u79fb\u4f1a\u53d1\u9001\u4e0a\u62c9\u4e8b\u4ef6"})],e.prototype,"footerOutOffset",void 0),n([l({displayName:"\u5e95\u90e8\u9ad8\u5ea6",tooltip:"\u5f53\u4e0a\u62c9\u4e8b\u4ef6\u89e6\u53d1\u65f6 \u5e95\u90e8\u8ffd\u52a0\u7684\u9ad8\u5ea6"})],e.prototype,"footerHeight",void 0),n([l({type:cc.Component.EventHandler,displayName:"\u4e0b\u62c9\u4e8b\u4ef6"})],e.prototype,"pullDownEvents",void 0),n([l({type:cc.Component.EventHandler,displayName:"\u4e0a\u62c9\u4e8b\u4ef6"})],e.prototype,"pullUpEvents",void 0),n([h],e)}(cc.ScrollView);o.default=c,cc._RF.pop()},{"./UISuperLayout":"UISuperLayout"}],item:[function(t,e,o){"use strict";cc._RF.push(e,"f7c845RaBRP1K72l1864tqD","item");var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(n<3?r(s):n>3?r(e,o,s):r(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,h=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.isChange=!1,e}return r(e,t),e.prototype.show=function(t,e,o){this.label.string=""+t.title,this.index=e,this.removeFunc=o},e.prototype.onRemMe=function(){this.removeFunc(this.index)},e.prototype.onClick=function(){this.isChange=!this.isChange,this.isChange?this.node.height*=10:this.node.height/=10},n([h(cc.Label)],e.prototype,"label",void 0),n([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],testPanel:[function(t,e,o){"use strict";cc._RF.push(e,"f08ceM6rcFNG74icWsXSxPT","testPanel");var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,i){var r,n=arguments.length,s=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(n<3?r(s):n>3?r(e,o,s):r(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./UISuperLayout"),a=t("./item"),h=cc._decorator,l=h.ccclass,c=h.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.layout=null,e.header=null,e.refreshing=null,e.footer=null,e.loading=null,e.isRandomHeight=!1,e.isRandomWidth=!1,e.total=0,e.datas=[],e}return r(e,t),e.prototype.onLoad=function(){for(var t=0;t<this.total;t++)this.datas.push({title:""+t,randomWidth:100*(1+Math.random()),randomHeight:100*(1+Math.random())});this.layout.total(this.datas.length)},e.prototype.refreshItemEvent=function(t,e){var o=this.datas[e];this.isRandomHeight&&(t.height=o.randomHeight),this.isRandomWidth&&(t.width=o.randomWidth),t.getComponent(a.default).show(o,e,this.onRemoveItem.bind(this))},e.prototype.toHeader=function(){this.layout.scrollToHeader(.5)},e.prototype.toFooter=function(){this.layout.scrollToFooter(.5)},e.prototype.addItem=function(){this.datas.push({title:""+this.datas.length,randomWidth:100*(1+Math.random()),randomHeight:100*(1+Math.random())}),cc.log("\u6dfb\u52a0\u6570\u636e \u5f53\u524d\u603b\u6570:",this.datas.length),this.layout.total(this.datas.length)},e.prototype.remItem=function(){this.datas.pop(),cc.log("\u5220\u9664\u6570\u636e \u5f53\u524d\u603b\u6570:",this.datas.length),this.layout.total(this.datas.length)},e.prototype.randomHeight=function(){this.isRandomHeight=!this.isRandomHeight,this.toHeader()},e.prototype.randomWidth=function(){this.isRandomWidth=!this.isRandomWidth,this.toHeader()},e.prototype.pullDownRefresh=function(t,e){var o=this;if(this.playAnim(this.header,e,"\u677e\u5f00\u5237\u65b0\u54e6","\u7ee7\u7eed\u6ed1"),e.refresh){cc.log("\u5f00\u59cb\u5f02\u6b65\u5237\u65b0\u6570\u636e"),this.refreshing.active=!0;for(var i=0;i<this.datas.length;i++){var r=this.datas[i];this.datas[i].title=r.title+" - "+i}setTimeout(function(){o.refreshing.active=!1,cc.log("\u5237\u65b0\u6210\u529f\uff01"),o.layout.total(o.datas.length)},1e3)}},e.prototype.pullUpLoad=function(t,e){var o=this;if(this.playAnim(this.footer,e,"\u677e\u5f00\u52a0\u8f7d\u66f4\u591a","\u7ee7\u7eed\u6ed1"),e.refresh){cc.log("\u5f00\u59cb\u5f02\u6b65\u52a0\u8f7d10\u6761\u6570\u636e"),this.loading.active=!0;for(var i=0;i<10;i++)this.datas.push({title:""+this.datas.length,randomWidth:100*(1+Math.random()),randomHeight:100*(1+Math.random())});setTimeout(function(){o.loading.active=!1,cc.log("\u6570\u636e\u52a0\u8f7d\u6210\u529f\uff01"),o.layout.total(o.datas.length)},1e3)}},e.prototype.onRemoveItem=function(t){this.datas.splice(t,1),this.layout.total(this.datas.length)},e.prototype.playAnim=function(t,e,o,i){t.opacity=255*e.progress;var r=this.layout.startAxis==s.UISuperAxis.VERTICAL?cc.v2(1,e.progress):cc.v2(e.progress,1);e.progress>=1?t.getComponentInChildren(cc.Label).string=o:t.getComponentInChildren(cc.Label).string=i,e.progress>=1.3?t.playing||(t.runAction(cc.scaleTo(.618,1,1).easing(cc.easeElasticOut(.236))),t.playing=!0):(t.stopAllActions(),t.playing=!1,t.setScale(r))},e.prototype.overScene=function(t,e){cc.director.loadScene(e)},n([c(s.default)],e.prototype,"layout",void 0),n([c(cc.Node)],e.prototype,"header",void 0),n([c(cc.Node)],e.prototype,"refreshing",void 0),n([c(cc.Node)],e.prototype,"footer",void 0),n([c(cc.Node)],e.prototype,"loading",void 0),n([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./UISuperLayout":"UISuperLayout","./item":"item"}]},{},["UISuperItem","UISuperLayout","UISuperScrollView","item","testPanel"]);